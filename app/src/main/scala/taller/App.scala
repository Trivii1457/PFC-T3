/*
 * This Scala source file was generated by the Gradle 'init' task.
 */
package taller
import Math.pow

object App {
  def main(args: Array[String]): Unit = {
    println(greeting())

    val matriz = new MatrixParallel()

    val A = matriz.MatrizAlAzar(4, 10) // Matriz de 4x4 con valores aleatorios entre 0 y 10
    println(A)

    val B = matriz.multMatriz(A, A)
    println(B)

    val C = matriz.SubMatriz(B, 0, 0, 2)
    println(C)

    val D = matriz.mulMatrizPar(A, A)
    println(D)

    val E = matriz.ResMatriz(A, A)
    println(E)

    val F = matriz.MultMatrizRec(A, A)
    println(F)

    val G = matriz.MultMatrizRecPar(A, A)
    println(G)

    val H = matriz.MultMatrizStrassen(A, A)
    println(H)

    val I = matriz.StrassenParallel(A, A)
    println(I)
    println("-------------------"*5)
    println("Benchmarking")
    benchmarking()
  }

  def benchmarking(): Unit = {
    val Bench = new Benchmark()
    val matriz = new MatrixParallel()
    for  {
      i <- 1 to 6
    } yield {
      val A = matriz.MatrizAlAzar(pow(2, i).toInt, 10)
      val B = matriz.MatrizAlAzar(pow(2, i).toInt, 10)
      val (time1, time2, speedUp) = Bench.compararAlgoritmo(matriz.MultMatrizRec, matriz.MultMatrizRecPar)(A, B)
      println(s"Time1: $time1, Time2: $time2, SpeedUp: $speedUp")
    }


  }

  def greeting(): String = "Hello, world!"
}
